$(document).ready(function(){$(document).bind("deviceready",function(){$("h1").text("Gwynt"),app.onDeviceReady()})});var app={onDeviceReady:function(){app.findContacts(),app.findGeoloc()},findContacts:function(){var e=new ContactFindOptions;e.filter="",e.multiple=!0,navigator.contacts.find(["*"],app.onSuccess,app.onError,e)},findGeoloc:function(){function e(e){alert("code: "+e.code+"\nmessage: "+e.message+"\n")}var t=function(e){alert("Latitude: "+e.coords.latitude+"\nLongitude: "+e.coords.longitude+"\nAltitude: "+e.coords.altitude+"\nAccuracy: "+e.coords.accuracy+"\nAltitude Accuracy: "+e.coords.altitudeAccuracy+"\nHeading: "+e.coords.heading+"\nSpeed: "+e.coords.speed+"\nTimestamp: "+e.timestamp+"\n")};navigator.geolocation.getCurrentPosition(t,e)},onSuccess:function(e){for(var t=[],n=0;n<e.length;n++){var a="",o="";e[n].displayName&&(a=e[n].displayName),e[n].phoneNumbers&&(o=e[n].phoneNumbers[0].value),t.push({name:a,phoneNumber:o})}app.hydrateHtml(t)},hydrateHtml:function(e){for(var t=document.getElementById("table"),n=0;n<e.length;n++){var a=app.checkIfContactExist(e[n].phoneNumber);if(a){var o="<tr><td>"+a.name+"</td><td>"+a.lvl+"</td><td>"+a.phoneNumber+"</td><td>"+a.latitude+"</td><td>"+a.longitude+"</td></tr>";t.innerHTML=t.innerHTML+o}else{var r="<tr><td>"+e[n].name+"</td><td></td><td>"+e[n].phoneNumber+"</td><td></td></td><td></td></tr>";t.innerHTML=t.innerHTML+r}}},getCaller:function(){var e='[{"name": "Skinra", "latitude": 48.857614, "longitude": 2.372543, "phoneNumber": "+33660221919", "lvl": 2}, {"name": "Nicolas", "latitude": 48.857388, "longitude": 2.372693, "phoneNumber": "0685697412", "lvl": 10}, {"name": "Killer91", "latitude": 48.857303, "longitude": 2.373186, "phoneNumber": "0789352416", "lvl": 25}, {"name": "Killer91", "latitude": 48.858009, "longitude": 2.371835, "phoneNumber": "0628745301", "lvl": 14}, {"name": "Rasquial", "latitude": 48.857911, "longitude": 2.372156, "phoneNumber": "0648521469", "lvl": 40}]';return JSON.parse(e)},checkIfContactExist:function(e){for(var t=app.getCaller(),n=0;n<t.length;n++)if(t[n].phoneNumber==e)return t[n]},onError:function(e){alert("onError!")}};app.initialize();