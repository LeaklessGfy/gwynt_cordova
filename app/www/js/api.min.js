var pictureSource,destinationType,camera={init:function(){pictureSource=navigator.camera.PictureSourceType,destinationType=navigator.camera.DestinationType,camera.eventListener()},eventListener:function(){$("#take-picture").click(function(){camera.capturePhoto()}),$("#choose-picture").click(function(){alert(pictureSource.SAVEDPHOTOALBUM),camera.getPhoto(pictureSource.SAVEDPHOTOALBUM)})},onPhotoURISuccess:function(t){var e=document.getElementById("largeImage");e.style.display="block",e.src=t},capturePhoto:function(){navigator.camera.getPicture(Hydrator.onCaptureSuccess,camera.onFail,{quality:50,destinationType:destinationType.DATA_URL,saveToPhotoAlbum:!0})},capturePhotoEdit:function(){navigator.camera.getPicture(Hydrator.onCaptureSuccess,camera.onFail,{quality:20,allowEdit:!0,destinationType:destinationType.DATA_URL,saveToPhotoAlbum:!0})},getPhoto:function(t){navigator.camera.getPicture(camera.onPhotoURISuccess,camera.onFail,{quality:50,destinationType:destinationType.FILE_URI,sourceType:t})},onFail:function(t){alert("Failed because: "+t)}},ContactApi=function(){this.contacts=[],this.eventListener()};ContactApi.prototype.eventListener=function(){$("#find-contact").click(function(){ContactApi.findContacts()})},ContactApi.prototype.process=function(t){for(var e,n,o,i=[],a=t.content,c=ContactApi.contacts,r=0;r<c.length;r++)if(c[r].displayName&&c[r].phoneNumbers){if(e=c[r].displayName,n=c[r].phoneNumbers[0].value,o=ContactApi.isRegistered(n,a)){i.push({name:e,phone:n,inDb:!0,lvl:o.lvl});continue}i.push({name:e,phone:n,inDb:!1,lvl:null})}Hydrator.hydrateContact(i)},ContactApi.prototype.findContacts=function(){var t=new ContactFindOptions;t.filter="",t.multiple=!0,navigator.contacts.find(["*"],this.onSuccess,this.onError,t)},ContactApi.prototype.onSuccess=function(t){ContactApi.contacts=t,ApiCaller.get("users",[],ContactApi.process,ApiCaller.handleError)},ContactApi.prototype.isRegistered=function(t,e){for(var n=e.length,o=0;n>o;o++)if(e[o].phone==t)return e[o]},ContactApi.prototype.onError=function(t){alert("onError!")};var googleAnalytics={init:function(){window.analytics.startTrackerWithId("UA-76476127-1"),googleAnalytics.eventListener()},eventListener:function(){$("#send-analytics").click(function(){googleAnalytics.sendAnalytics()})},sendAnalytics:function(){window.analytics.trackView("Toutes les donn√©es de l'application mobile"),window.analytics.trackEvent("Category","Action","Label",10)}};