var pictureSource,destinationType,camera={init:function(){pictureSource=navigator.camera.PictureSourceType,destinationType=navigator.camera.DestinationType,camera.eventListener()},eventListener:function(){$("#take-picture").click(function(){camera.capturePhoto()}),$("#choose-picture").click(function(){alert("Zerr")})},onPhotoURISuccess:function(t){var n=document.getElementById("largeImage");n.style.display="block",n.src=t},capturePhoto:function(){navigator.camera.getPicture(Hydrator.onCaptureSuccess,camera.onFail,{quality:50,destinationType:destinationType.DATA_URL})},capturePhotoEdit:function(){navigator.camera.getPicture(onPhotoDataSuccess,onFail,{quality:20,allowEdit:!0,destinationType:destinationType.DATA_URL})},getPhoto:function(t){navigator.camera.getPicture(onPhotoURISuccess,onFail,{quality:50,destinationType:destinationType.FILE_URI,sourceType:t})},onFail:function(t){alert("Failed because: "+t)}},ContactApi=function(){this.contacts=[],this.eventListener()};ContactApi.prototype.eventListener=function(){$("#find-contact").click(function(){ContactApi.findContacts()})},ContactApi.prototype.process=function(t){for(var n,e,o,i=[],a=t.content,c=ContactApi.contacts,r=0;r<c.length;r++)if(c[r].displayName&&c[r].phoneNumbers){if(n=c[r].displayName,e=c[r].phoneNumbers[0].value,o=ContactApi.isRegistered(e,a)){i.push({name:n,phone:e,inDb:!0,lvl:o.lvl});continue}i.push({name:n,phone:e,inDb:!1,lvl:null})}Hydrator.hydrateContact(i)},ContactApi.prototype.findContacts=function(){var t=new ContactFindOptions;t.filter="",t.multiple=!0,navigator.contacts.find(["*"],this.onSuccess,this.onError,t)},ContactApi.prototype.onSuccess=function(t){ContactApi.contacts=t,ApiCaller.get("users",[],ContactApi.process,ApiCaller.handleError)},ContactApi.prototype.isRegistered=function(t,n){for(var e=n.length,o=0;e>o;o++)if(n[o].phone==t)return n[o]},ContactApi.prototype.onError=function(t){alert("onError!")};