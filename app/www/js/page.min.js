var fightPage={init:function(e){e||ApiCaller.get("users/"+e,{},fightPage.startFight,ApiCaller.onError)},startFight:function(){}},playPage={init:function(){SongCaller.play("sound/play.mp3",5),playPage.eventListener(),playPage.getFights()},eventListener:function(){$("#play-end").click(function(){SongCaller.resetLoop()})},getFights:function(){ApiCaller.get("users",{free:1},playPage.onGetSuccess,ApiCaller.onError)},onGetSuccess:function(e){for(var n="",o=0;o<e.length;o++)n+='<li><a href="#" class="item-link item-content page-fight" data-id="'+e[o].id+'"><div class="item-media"><i class="icon icon-f7"></i></div><div class="item-inner"><div class="item-title">'+e[o].login+" ("+e[o].level+') </div><div class="item-after">Affronter</div></div></a></li>';$("#play .content ul").append(n)}},profilInfo,contactInfo,appender,profilPage={init:function(){profilPage.eventListener(),profilPage.refreshDomObject(),profilPage.showProfilInfo()},eventListener:function(){$("#profil .sub-menu li a").click(function(){profilPage.handleMenu($(this)),profilPage.handleContent($(this).data("id"))})},refreshDomObject:function(){profilInfo=$("#profil-info"),contactInfo=$("#contact-info"),appender=$("#profil .content")},handleMenu:function(e){$("#profil .sub-menu li a").removeClass("actif"),e.addClass("actif")},handleContent:function(e){"profil-info"==e?profilPage.showProfilInfo():profilPage.showContactInfo()},showProfilInfo:function(){profilPage.refreshDomObject(),HydratorCaller.hydrate(profilInfo,appender,"profil/profil-info.html",contactInfo,profilPage.onProfilSuccess)},showContactInfo:function(){profilPage.refreshDomObject(),HydratorCaller.hydrate(contactInfo,appender,"profil/contact-info.html",profilInfo,profilPage.onContactSuccess)},onProfilSuccess:function(){CameraApi.init(),$("#pseudo-c").text(localStorage.getItem("login")),$(".page-content").addClass("bg"+localStorage.getItem("bg")),LocalStorageApi.init()},onContactSuccess:function(){ContactApi.init()}};